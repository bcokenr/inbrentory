generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Item {
  id                       String       @id @default(uuid())
  name                     String
  description              String?
  listPrice                Decimal
  discountedListPrice      Decimal?
  transactionPrice         Decimal?
  costBasis                Decimal?
  hasPrintedTag            Boolean      @default(false)
  storeCreditAmountApplied Decimal?
  keywords                 String?
  measurements             String?
  quantity                 Int          @default(1)
  transactionId            String?
  createdAt                DateTime     @default(now())
  updatedAt                DateTime     @updatedAt
  transaction              Transaction? @relation(fields: [transactionId], references: [id])
  categories               Category[]   @relation("ItemCategories")
}

model Transaction {
  id    String   @id @default(uuid())
  total Decimal
  date  DateTime @default(now())
  items Item[]
}

model Category {
  id    String @id @default(uuid())
  name  String @unique
  items Item[] @relation("ItemCategories")
}
